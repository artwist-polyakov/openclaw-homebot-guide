---
name: vkusvill
description: Поиск продуктов ВкусВилл, просмотр состава/КБЖУ, проверка наличия и создание корзины
---

# ВкусВилл — поиск продуктов и корзина

## Обзор
Этот скилл позволяет искать продукты ВкусВилл, получать детальную информацию (состав, КБЖУ, цена, рейтинг), проверять наличие по адресу доставки и создавать ссылку на корзину.

## Команды

Скрипт: `/home/node/.openclaw/workspace/skills/vkusvill/vkusvill.sh`

### 1. Поиск продуктов

```bash
exec /home/node/.openclaw/workspace/skills/vkusvill/vkusvill.sh search "творог" 1 popularity
```

Параметры:
- запрос (обязательно)
- страница (по умолчанию 1, по 10 товаров)
- сортировка: popularity, rating, price_asc, price_desc

### 2. Детали продукта (КБЖУ, состав)

```bash
exec /home/node/.openclaw/workspace/skills/vkusvill/vkusvill.sh details 12345
```

Параметр: id товара из результатов поиска.

### 3. Проверка наличия по адресу доставки

```bash
exec /home/node/.openclaw/workspace/skills/vkusvill/vkusvill.sh check https://vkusvill.ru/goods/penne-s-gribami-i-ovoshchami-34511.html
```

**ВАЖНО:** Всегда передавай полный URL товара из поля `url` результатов поиска или details. НЕ передавай числовой id — он может не совпадать с xmlid и проверка вернёт ошибку.

Ответ: `AVAILABLE|кол-во|описание` или `NOT_AVAILABLE|0|описание`

Примеры ответов:
- `AVAILABLE|4|Паста Орзо: Доставим сегодня/завтра (адрес: улица Народного Ополчения, 15к1)`
- `NOT_AVAILABLE|0|Салат с манго: Не осталось (адрес: улица Народного Ополчения, 15к1)`

### 4. Создание корзины

```bash
exec /home/node/.openclaw/workspace/skills/vkusvill/vkusvill.sh cart '[{"xml_id":12345,"q":2},{"xml_id":67890,"q":1}]'
```

Параметр: JSON-массив товаров с xml_id и количеством (q).

## Порядок работы

1. Пользователь просит найти продукт → используй `search`
2. Покажи список: название, цена, рейтинг
3. Если нужны КБЖУ/состав → используй `details` с id товара
4. **Перед сборкой корзины** → проверь наличие через `check` с полным URL товара (поле `url` из результатов поиска)
5. Если товар `AVAILABLE` → добавляй в корзину
6. Если `NOT_AVAILABLE` → сообщи пользователю и предложи альтернативу
7. Собери корзину через `cart` и отдай ссылку

## Важно

- Всегда показывай цену товара
- КБЖУ показывай на 100г
- **Всегда проверяй наличие перед сборкой корзины** — нет смысла добавлять недоступные товары
- Ссылка на корзину открывается на сайте ВкусВилл, откуда можно оформить заказ
- Не давай медицинских/диетологических рекомендаций — только данные о продуктах
